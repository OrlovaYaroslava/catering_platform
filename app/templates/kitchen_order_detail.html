{% extends "base.html" %}

{% block title %}–ó–∞–∫–∞–∑ ‚Ññ{{ order.id }}{% endblock %}

{% block content %}
<h2>–ó–∞–∫–∞–∑ ‚Ññ{{ order.id }}</h2>

<!-- –í–ê–ñ–ù–´–ô –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ô –î–õ–Ø –ö–£–•–ù–ò -->
{% if order.kitchen_comment %}
<div class="card" style="border-left: 5px solid #f44336;">
    <strong>‚ö†Ô∏è –í–∞–∂–Ω–æ –¥–ª—è –∫—É—Ö–Ω–∏:</strong><br>
    {{ order.kitchen_comment }}
</div>
{% endif %}

<!-- –û–°–ù–û–í–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø -->
<div class="card">
    <p>
        <strong>–°—Ç–∞—Ç—É—Å:</strong>
        {% if order.status == "paid" %}
            üü° –ù–æ–≤—ã–π
        {% elif order.status == "cooking" %}
            üî• –í —Ä–∞–±–æ—Ç–µ
        {% elif order.status == "ready" %}
            ‚úÖ –ì–æ—Ç–æ–≤
        {% else %}
            {{ order.status }}
        {% endif %}
    </p>

    <p><strong>–î–∞—Ç–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è:</strong> {{ order.event_date }}</p>
    <p><strong>–í—Ä–µ–º—è:</strong> {{ order.event_time }}</p>
    <p><strong>–ì–æ—Å—Ç–µ–π:</strong> {{ order.guests_count }}</p>
    <p><strong>–ê–¥—Ä–µ—Å:</strong> {{ order.address }}</p>
</div>

<!-- –ö–ù–û–ü–ö–ò –£–ü–†–ê–í–õ–ï–ù–ò–Ø –°–¢–ê–¢–£–°–û–ú -->
<div class="card">
    {% if order.status == "paid" %}
        <form method="POST"
              action="{{ url_for('main.kitchen_start_order', order_id=order.id) }}">
            <button class="btn btn-warning">
                ‚ñ∂Ô∏è –ù–∞—á–∞—Ç—å –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ
            </button>
        </form>
    {% endif %}

    {% if order.status == "cooking" %}
        <form method="POST"
              action="{{ url_for('main.kitchen_finish_order', order_id=order.id) }}">
            <button class="btn btn-success">
                ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ
            </button>
        </form>
    {% endif %}
</div>

<hr>

<h3>–ë–ª—é–¥–∞</h3>

{% for item in items %}
    <div class="card"
         {% if item.dish.contains_allergens %}
             style="border-left: 5px solid #ff9800;"
         {% endif %}>
        <strong>{{ item.dish.name }}</strong><br>
        –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {{ item.quantity }}<br>
        –ö–∞—Ç–µ–≥–æ—Ä–∏—è: {{ item.dish.category }}<br>

        <!-- –î–ò–ï–¢–´ –ò –ê–õ–õ–ï–†–ì–ï–ù–´ -->
        {% if item.dish.is_vegan %}
            üå± –í–µ–≥–∞–Ω—Å–∫–æ–µ<br>
        {% endif %}
        {% if item.dish.is_gluten_free %}
            üö´ –ë–µ–∑ –≥–ª—é—Ç–µ–Ω–∞<br>
        {% endif %}
        {% if item.dish.contains_allergens %}
            ‚ö†Ô∏è –°–æ–¥–µ—Ä–∂–∏—Ç –∞–ª–ª–µ—Ä–≥–µ–Ω—ã<br>
        {% endif %}
    </div>
{% else %}
    <p>–ë–ª—é–¥ –Ω–µ—Ç</p>
{% endfor %}

<br>

<a class="btn"
   href="{{ url_for('main.kitchen_order_ingredients', order_id=order.id) }}">
    üì¶ –†–∞—Å—á—ë—Ç –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤
</a>

<br><br>

<a class="btn btn-secondary"
   href="{{ url_for('main.kitchen_orders') }}">
    ‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É –∑–∞–∫–∞–∑–æ–≤
</a>

{% endblock %}
